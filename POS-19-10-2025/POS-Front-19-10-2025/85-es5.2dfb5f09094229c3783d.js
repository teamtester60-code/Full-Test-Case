!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{gsdy:function(t,i,o){"use strict";o.r(i),o.d(i,"BiometricModule",function(){return k});var r,a=o("ofXK"),s=o("tyNb"),l=o("fXoL"),c=o("tk/3"),m=o("LNWR"),p=((r=function(){function t(n,i){e(this,t),this.http=n,this.common=i}return n(t,[{key:"GetBioConfigs",value:function(){return this.http.get(this.common.rooturl+"/Biometric/GetBioConfigs")}},{key:"GetAllEmployess",value:function(){return this.http.get(this.common.rooturl+"/Biometric/GetAllEmployess")}},{key:"InsertBioConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post(this.common.rooturl+"/Biometric/InsertBioConfig",e)}},{key:"DeleteBioConfig",value:function(e){return this.http.delete(this.common.rooturl+"/Biometric/DeleteBioConfig/"+e)}},{key:"UpdateBioConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.put(this.common.rooturl+"/Biometric/UpdateBioConfig",e)}},{key:"PingBiometricDevice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post(this.common.rooturl+"/Biometric/PingBiometricDevice",e)}},{key:"ConnectBiometricDevice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post(this.common.rooturl+"/Biometric/ConnectBiometricDevice",e)}},{key:"GetBiometricLogData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post(this.common.rooturl+"/Biometric/GetBiometricLogData",e)}},{key:"SaveBiometricLogData",value:function(e){return this.http.post(this.common.rooturl+"/Biometric/InsertBios",e)}}]),t}()).\u0275fac=function(e){return new(e||r)(l["\u0275\u0275inject"](c.b),l["\u0275\u0275inject"](m.a))},r.\u0275prov=l["\u0275\u0275defineInjectable"]({token:r,factory:r.\u0275fac,providedIn:"root"}),r),d=o("5eHb"),u=o("E8vI"),g=o("R9YG"),f=o("sYmb"),h=o("3Pt+"),v=o("GJ+o"),b=["grid"];function y(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",32),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275property"]("ngValue",n),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate2"](" ",n.Name," >> ",n.Ip," ")}}function C(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"Shared.connect")))}function B(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"Shared.DisConnect")))}function S(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",33),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().SaveBiometricLogData()}),l["\u0275\u0275text"](1," SaveData "),l["\u0275\u0275elementEnd"]()}}var x,D,E,I=function(e,t){return{Connect:e,Disconnect:t}},w=[{path:"",component:(x=function(){function t(n,i,o,r,a,s){var l=this;e(this,t),this.Biometricser=n,this.toastr=i,this.datepipe=o,this.toastrMessage=r,this.languageSerService=a,this.translate=s,this.BiometricConfigList=[],this.LogDataList=[],this.employees=[],this.BioConfig={},this.Connected=!1,this.DateFormat={type:"date",format:"dd/MM/yyyy"},this.TimeFormat={type:"date",format:"HH:mm:ss"},this.languageSerService.currentLang.subscribe(function(e){return l.language=e}),this.translate.use(this.language)}return n(t,[{key:"ngOnInit",value:function(){this.GetAllConfigs(),this.GetAllEmployess(),this.initializeGrid(),this.initializeGrid2()}},{key:"initializeGrid",value:function(){this.pageSettings={pageSizes:!0,pageSize:10},this.toolbarOptions=["Search","PdfExport","ExcelExport"],this.editOptions={showDeleteConfirmDialog:!0,allowEditing:!0,allowDeleting:!0},this.filterOptions={type:"Menu"},this.commands=[{type:"Edit",buttonOption:{cssClass:"e-flat",iconCss:"e-edit e-icons"}},{type:"Delete",buttonOption:{cssClass:"e-flat",iconCss:"e-delete e-icons"}},{type:"Save",buttonOption:{cssClass:"e-flat",iconCss:"e-update e-icons"}},{type:"Cancel",buttonOption:{cssClass:"e-flat",iconCss:"e-cancel-icon e-icons"}}]}},{key:"initializeGrid2",value:function(){this.pageSettings2={pageSizes:!0,pageSize:10},this.toolbarOptions2=["Search","PdfExport","ExcelExport"],this.editOptions2={showDeleteConfirmDialog:!1,allowEditing:!1,allowDeleting:!1},this.filterOptions2={type:"Menu"},this.commands2=[]}},{key:"actionBegin",value:function(e){if("save"===e.requestType){var t=e.data;this.BioConfig=t,t.DocumentId?this.UpdateBioConfig():this.InsertBioConfig()}"delete"===e.requestType&&this.DeleteBioConfig(e.data[0].DocumentId)}},{key:"GetAllEmployess",value:function(){var e=this;this.Biometricser.GetAllEmployess().subscribe(function(t){e.employees=t,e.employees=e.employees.filter(function(e){return e.NumberFingerprint>0})})}},{key:"GetAllConfigs",value:function(){var e=this;this.Biometricser.GetBioConfigs().subscribe(function(t){e.BiometricConfigList=t,e.grid.refresh()})}},{key:"UpdateBioConfig",value:function(){var e=this;this.Biometricser.UpdateBioConfig(this.BioConfig).subscribe(function(t){e.toastr.info(e.toastrMessage.GlobalMessages(t),"biometrics"),e.GetAllConfigs()},function(t){e.toastr.error(e.toastrMessage.GlobalMessages(t),"biometrics")})}},{key:"InsertBioConfig",value:function(){var e=this;this.Biometricser.InsertBioConfig(this.BioConfig).subscribe(function(t){e.toastr.success(e.toastrMessage.GlobalMessages(t),"biometrics"),e.GetAllConfigs()},function(t){e.toastr.error(e.toastrMessage.GlobalMessages(t),"biometrics")})}},{key:"DeleteBioConfig",value:function(e){var t=this;this.Biometricser.DeleteBioConfig(e).subscribe(function(e){3==e?(t.toastr.warning(t.toastrMessage.GlobalMessages(e),"biometrics"),t.GetAllConfigs()):t.toastr.warning(t.toastrMessage.GlobalMessages(e),"biometrics"),t.GetAllConfigs()},function(e){t.toastr.error(t.toastrMessage.GlobalMessages(e),"biometrics")})}},{key:"AddNewBioConfig",value:function(){this.BiometricConfigList.push({Name:"",Ip:""}),this.grid.refresh()}},{key:"PingBiometricDevice",value:function(){var e=this;this.Biometricser.PingBiometricDevice({IP:this.ConfigDocument.Ip,PORT:this.ConfigDocument.Port,MNumber:this.ConfigDocument.MachineNo}).subscribe(function(t){e.toastr.success(e.toastrMessage.GlobalMessages(8),"biometrics")},function(t){e.toastr.error(e.toastrMessage.GlobalMessages(t),"biometrics")})}},{key:"ConnectDevice",value:function(){var e=this;this.Biometricser.ConnectBiometricDevice({IP:this.ConfigDocument.Ip,PORT:this.ConfigDocument.Port,MNumber:this.ConfigDocument.MachineNo}).subscribe(function(t){1==t?(e.toastr.success(e.toastrMessage.GlobalMessages(9),"biometrics"),e.Connected=!0):(e.toastr.success(e.toastrMessage.GlobalMessages(10),"biometrics"),e.Connected=!1)},function(t){e.Connected=!1,e.toastr.error(e.toastrMessage.GlobalMessages(t),"biometrics")})}},{key:"GetData",value:function(){var e=this;this.Biometricser.GetBiometricLogData({IP:this.ConfigDocument.Ip,PORT:this.ConfigDocument.Port,MNumber:this.ConfigDocument.MachineNo}).subscribe(function(t){e.LogDataList=t,e.LogDataList.forEach(function(t){var n=e.employees.filter(function(e){return e.NumberFingerprint==t.IndRegID})[0];n&&(t.EmployeeId=n.Id,t.Employee=n)})},function(t){e.toastr.error(e.toastrMessage.GlobalMessages(t),"biometrics")})}},{key:"SaveBiometricLogData",value:function(){var e=this;this.Biometricser.SaveBiometricLogData(this.LogDataList).subscribe(function(t){e.toastr.success(e.toastrMessage.GlobalMessages(1==t?t:1),"biometrics")},function(t){e.toastr.error(e.toastrMessage.GlobalMessages(t),"biometrics")})}}]),t}(),x.\u0275fac=function(e){return new(e||x)(l["\u0275\u0275directiveInject"](p),l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](a.DatePipe),l["\u0275\u0275directiveInject"](u.a),l["\u0275\u0275directiveInject"](g.a),l["\u0275\u0275directiveInject"](f.e))},x.\u0275cmp=l["\u0275\u0275defineComponent"]({type:x,selectors:[["app-biometric"]],viewQuery:function(e,t){var n;1&e&&(l["\u0275\u0275viewQuery"](b,5),l["\u0275\u0275viewQuery"](b,5)),2&e&&(l["\u0275\u0275queryRefresh"](n=l["\u0275\u0275loadQuery"]())&&(t.grid=n.first),l["\u0275\u0275queryRefresh"](n=l["\u0275\u0275loadQuery"]())&&(t.grid2=n.first))},decls:64,vars:74,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-7"],[1,"ms-card"],[1,"ms-card-header"],[1,"m-0"],[1,"ms-card-body"],[1,"col-md-3","ml-3"],["name","ConfigDocumentId","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-circle","bg-defualt","form-control","col-md-1",2,"margin","15px","top","-14px",3,"click"],[1,"btn","btn-circle","bg-defualt","form-control","col-md-1","text-white",2,"margin","15px","top","-14px",3,"ngClass","click"],[4,"ngIf"],[1,"btn","btn-circle","bg-blue","form-control","col-md-2",2,"margin","15px","top","-14px",3,"disabled","click"],["style","margin: 15px; top: -14px","class","btn btn-circle bg-success form-control col-md-2 text-white",3,"click",4,"ngIf"],["id","Grid2",3,"dataSource","allowPaging","pageSettings","allowSorting","allowFiltering","filterSettings","toolbar","allowGrouping","allowPdfExport","allowExcelExport","editSettings","actionBegin"],["grid2",""],[1,"d-flex"],["field","MachineNumber","textAlign","center",3,"headerText"],["field","IndRegID","textAlign","center",3,"headerText"],["field","EmployeeName","textAlign","center",3,"headerText"],["field","DateTimeRecord","textAlign","center","type","date",3,"headerText","format"],[1,"col-md-5"],[1,"ml-auto"],[1,"btn","btn-circle","bg-blue","form-control","col-md-2",2,"margin","15px","top","-14px",3,"click"],["id","Grid",3,"dataSource","allowPaging","pageSettings","allowSorting","allowFiltering","filterSettings","toolbar","allowGrouping","allowPdfExport","allowExcelExport","editSettings","actionBegin"],["grid",""],["field","Name","textAlign","center",3,"headerText"],["field","Ip","headerText","IP","textAlign","center"],["field","Port","headerText","Port","textAlign","center"],["field","MachineNo","textAlign","center",3,"headerText"],["textAlign","center",3,"headerText","commands"],[3,"ngValue"],[1,"btn","btn-circle","bg-success","form-control","col-md-2","text-white",2,"margin","15px","top","-14px",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"div",4),l["\u0275\u0275elementStart"](5,"h5",5),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",6),l["\u0275\u0275elementStart"](9,"div",1),l["\u0275\u0275elementStart"](10,"div",7),l["\u0275\u0275elementStart"](11,"select",8),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.ConfigDocument=e}),l["\u0275\u0275text"](12," // value is a string or number "),l["\u0275\u0275template"](13,y,2,3,"option",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"button",10),l["\u0275\u0275listener"]("click",function(){return t.PingBiometricDevice()}),l["\u0275\u0275text"](15),l["\u0275\u0275pipe"](16,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"button",11),l["\u0275\u0275listener"]("click",function(){return t.ConnectDevice()}),l["\u0275\u0275template"](18,C,3,3,"span",12),l["\u0275\u0275template"](19,B,3,3,"span",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"button",13),l["\u0275\u0275listener"]("click",function(){return t.GetData()}),l["\u0275\u0275text"](21),l["\u0275\u0275pipe"](22,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](23,S,2,0,"button",14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"ejs-grid",15,16),l["\u0275\u0275listener"]("actionBegin",function(e){return t.actionBegin(e)}),l["\u0275\u0275elementStart"](26,"h1"),l["\u0275\u0275text"](27,"Halaaaaaaaaaa!"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"e-columns",17),l["\u0275\u0275element"](29,"e-column",18),l["\u0275\u0275pipe"](30,"translate"),l["\u0275\u0275element"](31,"e-column",19),l["\u0275\u0275pipe"](32,"translate"),l["\u0275\u0275element"](33,"e-column",20),l["\u0275\u0275pipe"](34,"translate"),l["\u0275\u0275element"](35,"e-column",21),l["\u0275\u0275pipe"](36,"translate"),l["\u0275\u0275element"](37,"e-column",21),l["\u0275\u0275pipe"](38,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](39,"div",22),l["\u0275\u0275elementStart"](40,"div",3),l["\u0275\u0275elementStart"](41,"div",4),l["\u0275\u0275elementStart"](42,"h5",5),l["\u0275\u0275text"](43),l["\u0275\u0275pipe"](44,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](45,"div",6),l["\u0275\u0275elementStart"](46,"div",17),l["\u0275\u0275elementStart"](47,"div",23),l["\u0275\u0275elementStart"](48,"button",24),l["\u0275\u0275listener"]("click",function(){return t.AddNewBioConfig()}),l["\u0275\u0275text"](49),l["\u0275\u0275pipe"](50,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](51,"ejs-grid",25,26),l["\u0275\u0275listener"]("actionBegin",function(e){return t.actionBegin(e)}),l["\u0275\u0275elementStart"](53,"h1"),l["\u0275\u0275text"](54,"Halaaaaaaaaaa!"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](55,"e-columns",17),l["\u0275\u0275element"](56,"e-column",27),l["\u0275\u0275pipe"](57,"translate"),l["\u0275\u0275element"](58,"e-column",28),l["\u0275\u0275element"](59,"e-column",29),l["\u0275\u0275element"](60,"e-column",30),l["\u0275\u0275pipe"](61,"translate"),l["\u0275\u0275element"](62,"e-column",31),l["\u0275\u0275pipe"](63,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](7,45,"Shared.BiometricConnection")),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngModel",t.ConfigDocument),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.BiometricConfigList),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](16,47,"Shared.Ping")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction2"](71,I,!t.Connected,t.Connected)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.Connected),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.Connected),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("disabled",!t.Connected),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](22,49,"Shared.getdata")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.LogDataList.length>0&&t.Connected),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("dataSource",t.LogDataList)("allowPaging",!0)("pageSettings",t.pageSettings2)("allowSorting",!0)("allowFiltering",!0)("filterSettings",t.filterOptions2)("toolbar",t.toolbarOptions2)("allowGrouping",!0)("allowPdfExport",!0)("allowExcelExport",!0)("editSettings",t.editOptions2),l["\u0275\u0275advance"](5),l["\u0275\u0275propertyInterpolate"]("headerText",l["\u0275\u0275pipeBind1"](30,51,"Shared.Machinenumber")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("headerText",l["\u0275\u0275pipeBind1"](32,53,"Shared.EnrollNumber")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("headerText",l["\u0275\u0275pipeBind1"](34,55,"Shared.Name")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("headerText",l["\u0275\u0275pipeBind1"](36,57,"CashReceipt.Date")),l["\u0275\u0275property"]("format",t.DateFormat),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("headerText",l["\u0275\u0275pipeBind1"](38,59,"setting.Time")),l["\u0275\u0275property"]("format",t.TimeFormat),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](44,61,"Shared.BiometricConfiguration")),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](50,63,"Shared.AddDevice")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("dataSource",t.BiometricConfigList)("allowPaging",!0)("pageSettings",t.pageSettings)("allowSorting",!0)("allowFiltering",!0)("filterSettings",t.filterOptions)("toolbar",t.toolbarOptions)("allowGrouping",!0)("allowPdfExport",!0)("allowExcelExport",!0)("editSettings",t.editOptions),l["\u0275\u0275advance"](5),l["\u0275\u0275propertyInterpolate"]("headerText",l["\u0275\u0275pipeBind1"](57,65,"Shared.deviceName")),l["\u0275\u0275advance"](4),l["\u0275\u0275propertyInterpolate"]("headerText",l["\u0275\u0275pipeBind1"](61,67,"Shared.Machinenumber")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("headerText",l["\u0275\u0275pipeBind1"](63,69,"delivery.Actions")),l["\u0275\u0275property"]("commands",t.commands))},directives:[h.A,h.z,h.r,h.u,a.NgForOf,a.NgClass,a.NgIf,v.p,v.g,v.b,v.f,v.a,h.v,h.D],pipes:[f.d],styles:[".Connect[_ngcontent-%COMP%]{background-color:silver}.Disconnect[_ngcontent-%COMP%]{background-color:green}"]}),x)}],M=((D=function t(){e(this,t)}).\u0275fac=function(e){return new(e||D)},D.\u0275mod=l["\u0275\u0275defineNgModule"]({type:D}),D.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[s.f.forChild(w)],s.f]}),D),G=o("PCNd"),k=((E=function t(){e(this,t)}).\u0275fac=function(e){return new(e||E)},E.\u0275mod=l["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[a.CommonModule,M,h.j,h.y,G.a]]}),E)}}])}();