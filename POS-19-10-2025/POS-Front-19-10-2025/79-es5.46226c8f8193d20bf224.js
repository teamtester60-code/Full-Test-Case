!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,i=r(e);if(t){var o=r(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return n(this,a)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{OnQw:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("fXoL"),i=function(){var e=function(){function e(t){a(this,e),this._el=t,this.regex=new RegExp(/^[0-9]+(\.[0-9]*){0,1}$/g),this.specialKeys=["Backspace","Tab","End","Home"],this.allowDecimals=!1,this.ngModelChange=new r.EventEmitter}return o(e,[{key:"onInputChange",value:function(e){var t=this._el.nativeElement.value;this.allowDecimals?String(t).match(this.regex)||(this._el.nativeElement.value=""):(this._el.nativeElement.value=t.replace(/[^0-9]*/g,""),t!==this._el.nativeElement.value&&e.stopPropagation())}},{key:"onKeyDown",value:function(e){if(this.allowDecimals){if(-1!==this.specialKeys.indexOf(e.key))return;this.fraction&&this.fraction>0&&(this.regex=new RegExp("^\\d*(\\.\\d{0,"+this.fraction+"})?$"));var t=this._el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","numbersOnly",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("input",function(e){return t.onInputChange(e)})("keydown",function(e){return t.onKeyDown(e)})},inputs:{allowDecimals:"allowDecimals",numbersOnly:"numbersOnly",fraction:"fraction"},outputs:{ngModelChange:"ngModelChange"}}),e}()},vUMv:function(n,r,i){"use strict";i.r(r),i.d(r,"StopProductsModule",function(){return P});var l,c=i("ofXK"),d=i("tyNb"),s=i("fXoL"),u=i("tk/3"),p=i("LNWR"),m=((l=function(){function e(t,n){a(this,e),this.http=t,this.common=n}return o(e,[{key:"FirstOpen",value:function(){return this.http.get(this.common.rooturl+"/StopProduct/FirstOpen")}},{key:"GetStopDurationList",value:function(){return this.http.get(this.common.rooturl+"/StopProduct/GetStopDurationList")}},{key:"UpdateproductProperties",value:function(e){return this.http.post(this.common.rooturl+"/StopProduct/UpdateproductProperties/",e)}}]),e}()).\u0275fac=function(e){return new(e||l)(s["\u0275\u0275inject"](u.b),s["\u0275\u0275inject"](p.a))},l.\u0275prov=s["\u0275\u0275defineInjectable"]({token:l,factory:l.\u0275fac,providedIn:"root"}),l),f=i("TQQS"),h=i("e4hC"),v=i("sYmb"),S=i("5eHb"),g=i("jcQU"),b=i("3Pt+"),y=i("OnQw"),E=["frmRef"];function I(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",27),s["\u0275\u0275element"](1,"div",28),s["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"div",29),s["\u0275\u0275text"](2),s["\u0275\u0275pipe"](3,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](3,1,"setting.BranchIsRequired")," "))}function w(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275elementStart"](1,"th",30),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td"),s["\u0275\u0275elementStart"](4,"input",31,32),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.IsSelected=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"td"),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"td"),s["\u0275\u0275text"](9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"td"),s["\u0275\u0275text"](11),s["\u0275\u0275pipe"](12,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"td"),s["\u0275\u0275elementStart"](14,"ejs-combobox",33,34),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.StopDurationType=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"td",25),s["\u0275\u0275elementStart"](17,"input",35,36),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.StopDuration=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"td",25),s["\u0275\u0275text"](20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"td",25),s["\u0275\u0275text"](22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=t.index,a=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](r+1),s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate1"]("name","IsSelected",r,""),s["\u0275\u0275property"]("ngModel",n.IsSelected),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](n.Name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.AvailableQuantity),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.Status?s["\u0275\u0275pipeBind1"](12,22,"stock."+n.Status):n.Status),s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate1"]("name","StopDurationType",r,""),s["\u0275\u0275propertyInterpolate1"]("id","StopDurationType",r,"_Id"),s["\u0275\u0275property"]("ngModel",n.StopDurationType)("allowFiltering",!0)("autofill",!0)("dataSource",a.StopDurationList)("enabled",n.IsSelected)("fields",a.Flds),s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate1"]("name","StopDuration",r,""),s["\u0275\u0275propertyInterpolate1"]("id","StopDuration_id",r,""),s["\u0275\u0275property"]("numbersOnly",n.StopDuration)("allowDecimals",!1)("ngModel",n.StopDuration)("disabled",!n.IsSelected),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",n.Reminder," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",a.getProperityBranches(n)," ")}}var D,B,j,M=[{path:"",component:(D=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(i,n);var r=t(i);function i(e,t,n,o,l,c,d){var s;return a(this,i),(s=r.call(this))._StopProductService=e,s._branchService=t,s.languageSerService=n,s.translate=o,s.router=l,s.toastr=c,s.toastrMessage=d,s.Fld={text:"Name",value:"DocumentId"},s.initializeobjects(),s}return o(i,[{key:"ngOnInit",value:function(){this.GetDate()}},{key:"initializeobjects",value:function(){var e=this;this.responseobj={},this.service=this._StopProductService,this.request=this.router.getCurrentNavigation().extras,this.languageSerService.currentLang.subscribe(function(t){return e.language=t}),this.translate.use(this.language)}},{key:"GetDate",value:function(){var e=this;this.requestStarted=!0,this._StopProductService.GetStopDurationList().subscribe(function(t){e.StopDurationList=t,e.StopDurationList=e.StopDurationList.map(function(t){return{Name:e.translate.instant("setting."+t.Name),Id:t.Id}}),e.Flds={text:"Name",value:"Id"}}),this._StopProductService.FirstOpen().subscribe(function(t){e.requestStarted=!1,e.Products=t}),this.getBranches()}},{key:"getBranches",value:function(){var e=this;this._branchService.getLookUp().subscribe(function(t){e.branches=t})}},{key:"Save",value:function(){var e=this;if(this.submitted=!0,this.selectedBranches&&this.selectedBranches.length){var t=[];this.Products.forEach(function(n){n.IsSelected&&(n.BranchesList=e.selectedBranches,t.push(n))}),this._StopProductService.UpdateproductProperties(t).subscribe(function(t){2==t&&(e.toastr.info(e.toastrMessage.GlobalMessages(t)),e.GetDate(),e.selectedBranches=[],e.submitted=!1)})}}},{key:"getProperityBranches",value:function(e){var t,n;return(null===(t=e.BranchesList)||void 0===t?void 0:t.length)&&(null===(n=this.branches)||void 0===n?void 0:n.length)?this.branches.filter(function(t){return e.BranchesList.includes(t.DocumentId)}).map(function(e){return e.Name}).join(", "):""}}]),i}(f.j),D.\u0275fac=function(e){return new(e||D)(s["\u0275\u0275directiveInject"](m),s["\u0275\u0275directiveInject"](h.c),s["\u0275\u0275directiveInject"](f.f),s["\u0275\u0275directiveInject"](v.e),s["\u0275\u0275directiveInject"](d.b),s["\u0275\u0275directiveInject"](S.b),s["\u0275\u0275directiveInject"](f.d))},D.\u0275cmp=s["\u0275\u0275defineComponent"]({type:D,selectors:[["app-stop-products"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275viewQuery"](E,5),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.frmRef=n.first)},features:[s["\u0275\u0275InheritDefinitionFeature"]],decls:62,vars:39,consts:[["id","preloader-wrap",4,"ngIf"],[1,"col-md-12"],[1,"ms-card"],[1,"ms-card-header"],[1,"row"],[1,"col-md-4"],[1,"d-flex","justify-content-around","align-items-center"],[1,"d-flex","justify-content-start","align-items-center"],["type","button",1,"btn","btn-secondary","m-0","btnEdit",3,"click"],[1,""],["type","button",1,"btn","btn-success","m-0","btnEdit",3,"click"],[1,"col-md-6","mb-3"],[1,"col-md-3","d-flex","justify-content-start","align-items-center","label1"],["for","validationCustom19"],[1,"col-md-8","paddingLeftz"],[1,"input-group","editInputGroup"],[1,"input-group-addon"],[1,"bi","bi-credit-card-2-back-fill"],[1,"input-group"],["name","branchesList","placeholder","",1,"form-control",3,"ngModel","dataSource","fields","ngModelChange"],["branchesList","ngModel"],[4,"ngIf"],[1,"ms-card-body"],[1,"table-responsive"],[1,"table","table-bordered","BottomTableReturnOrder"],["scope","col"],[4,"ngFor","ngForOf"],["id","preloader-wrap"],[1,"col-md-9","d-flex","justify-content-center","align-items-center"],[1,"alert","alert-danger","editAlertCash"],["scope","row"],["type","checkbox",3,"name","ngModel","ngModelChange"],["IsSelected{{i}}","ngModel"],[1,"form-control","borderRadius",3,"name","ngModel","allowFiltering","autofill","dataSource","enabled","fields","id","ngModelChange"],["StopDurationType{{i}}","ngModel"],[1,"form-control","borderRadius",3,"name","numbersOnly","allowDecimals","ngModel","id","disabled","ngModelChange"],["StopDuration","ngModel"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,I,2,0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275elementStart"](4,"div",4),s["\u0275\u0275elementStart"](5,"div",5),s["\u0275\u0275elementStart"](6,"div",6),s["\u0275\u0275elementStart"](7,"div",7),s["\u0275\u0275elementStart"](8,"button",8),s["\u0275\u0275listener"]("click",function(){return t.Save()}),s["\u0275\u0275text"](9),s["\u0275\u0275pipe"](10,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",9),s["\u0275\u0275elementStart"](12,"button",10),s["\u0275\u0275listener"]("click",function(){return t.GetDate()}),s["\u0275\u0275text"](13),s["\u0275\u0275pipe"](14,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",11),s["\u0275\u0275elementStart"](16,"div",4),s["\u0275\u0275elementStart"](17,"div",12),s["\u0275\u0275elementStart"](18,"label",13),s["\u0275\u0275text"](19),s["\u0275\u0275pipe"](20,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",14),s["\u0275\u0275elementStart"](22,"div",15),s["\u0275\u0275elementStart"](23,"div",16),s["\u0275\u0275element"](24,"i",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",18),s["\u0275\u0275elementStart"](26,"ejs-multiselect",19,20),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedBranches=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](28,x,4,3,"div",21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",22),s["\u0275\u0275elementStart"](30,"div",23),s["\u0275\u0275elementStart"](31,"table",24),s["\u0275\u0275elementStart"](32,"thead"),s["\u0275\u0275elementStart"](33,"tr"),s["\u0275\u0275elementStart"](34,"th",25),s["\u0275\u0275text"](35,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"th",25),s["\u0275\u0275text"](37),s["\u0275\u0275pipe"](38,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"th",25),s["\u0275\u0275text"](40),s["\u0275\u0275pipe"](41,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](42,"th",25),s["\u0275\u0275text"](43),s["\u0275\u0275pipe"](44,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](45,"th",25),s["\u0275\u0275text"](46),s["\u0275\u0275pipe"](47,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](48,"th",25),s["\u0275\u0275text"](49),s["\u0275\u0275pipe"](50,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](51,"th",25),s["\u0275\u0275text"](52),s["\u0275\u0275pipe"](53,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](54,"th",25),s["\u0275\u0275text"](55),s["\u0275\u0275pipe"](56,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](57,"th",25),s["\u0275\u0275text"](58),s["\u0275\u0275pipe"](59,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](60,"tbody"),s["\u0275\u0275template"](61,w,23,24,"tr",26),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("ngIf",t.requestStarted),s["\u0275\u0275advance"](9),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](10,17,"Shared.Save")," "),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](14,19,"Shared.Refresh")," "),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](20,21,"Shared.effectedForBranches")," : "),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngModel",t.selectedBranches)("dataSource",t.branches)("fields",t.Fld),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.submitted&&(!t.selectedBranches||!t.selectedBranches.length)),s["\u0275\u0275advance"](9),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](38,23,"Shared.Select")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](41,25,"Shared.productName")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](44,27,"stock.AvailableQuantity")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](47,29,"Reports.status")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](50,31,"products.StopDurationType")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](53,33,"products.StopDuration")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](56,35,"Shared.Remainder")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](59,37,"Reports.Branches")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",t.Products))},directives:[c.NgIf,g.f,b.r,b.u,c.NgForOf,b.a,g.a,b.c,y.a],pipes:[v.d],styles:[""]}),D)}],k=((B=function e(){a(this,e)}).\u0275fac=function(e){return new(e||B)},B.\u0275mod=s["\u0275\u0275defineNgModule"]({type:B}),B.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[d.f.forChild(M)],d.f]}),B),O=i("PCNd"),P=((j=function e(){a(this,e)}).\u0275fac=function(e){return new(e||j)},j.\u0275mod=s["\u0275\u0275defineNgModule"]({type:j}),j.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[c.CommonModule,k,g.b,O.a]]}),j)}}])}();