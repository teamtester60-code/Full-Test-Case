!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{peIk:function(t,a,i){"use strict";i.r(a),i.d(a,"ChangeLanguageModule",function(){return I});var r,l,o,s,d=i("ofXK"),c=i("3Pt+"),u=i("PCNd"),g=i("tyNb"),f=i("VfRC"),h=i("JcrP"),p=i("fXoL"),m=i("tk/3"),v=((r=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getArJSON",value:function(){return this.http.get("assets/i18n/ar.json")}},{key:"deleteArJSON",value:function(){return this.http.delete("assets/i18n/ar.json")}},{key:"getEnJSON",value:function(){return this.http.get("assets/i18n/en.json")}},{key:"getFrJSON",value:function(){return this.http.get("assets/i18n/fr.json")}},{key:"getTuJSON",value:function(){return this.http.get("assets/i18n/tu.json")}},{key:"Add",value:function(e){}}]),t}()).\u0275fac=function(e){return new(e||r)(p["\u0275\u0275inject"](m.b))},r.\u0275prov=p["\u0275\u0275defineInjectable"]({token:r,factory:r.\u0275fac,providedIn:"root"}),r),b=i("R9YG"),S=i("sYmb"),y=i("e4hC"),E=i("TQQS"),j=i("jcQU"),k=i("GJ+o"),x=["grid"],w=[{path:"",component:(l=function(){function t(n,a,i,r,l,o){var s=this;e(this,t),this.service=n,this.languageSerService=a,this.translate=i,this.branchService=r,this.toastr=l,this.toastrMessage=o,this.languages=[{Id:1,Name:"English"},{Id:2,Name:"Arabic"},{Id:3,Name:"French "},{Id:4,Name:"Turkish"}],this.fields={text:"Name",value:"Id"},this.Object=new f.a,this.namefile="Uploaded File",this.languageSerService.currentLang.subscribe(function(e){return s.language=e}),this.translate.use(this.language)}return n(t,[{key:"ngOnInit",value:function(){this.Object.LanguageId=1,this.getdata(),this.initializeGrid(),this.responseobj={},this.fullresponseobj={}}},{key:"initializeGrid",value:function(){this.pageSettings={pageSizes:!0,pageSize:10},this.toolbarOptions=["ExcelExport"],this.filterOptions={type:"Menu"}}},{key:"toolbarClick",value:function(e){var t=this;"Grid_excelexport"===e.item.id&&(this.excelexportList=[],this.gridList.forEach(function(e){var n;n={key:e.description.toString()+"."+e.key.toString(),value:e.value},t.excelexportList.push(n)}),this.grid.excelExport({dataSource:this.excelexportList}))}},{key:"getdata",value:function(){var e=this;1==this.Object.LanguageId&&this.service.getEnJSON().subscribe(function(t){if(e.gridList=[],e.data=t,null==e.data||null==e.data)return!1;Object.keys(e.data).forEach(function(t){Object.keys(e.data[t]).forEach(function(n){var a;a={description:t,key:n,value:e.data[t][n]},e.gridList.push(a)})})}),2==this.Object.LanguageId&&this.service.getArJSON().subscribe(function(t){if(e.gridList=[],e.data=t,null==e.data||null==e.data)return!1;Object.keys(e.data).forEach(function(t){Object.keys(e.data[t]).forEach(function(n){var a;a={description:t,key:n,value:e.data[t][n]},e.gridList.push(a)})})}),3==this.Object.LanguageId&&this.service.getFrJSON().subscribe(function(t){if(e.gridList=[],e.data=t,null==e.data||null==e.data)return!1;Object.keys(e.data).forEach(function(t){Object.keys(e.data[t]).forEach(function(n){var a;a={description:t,key:n,value:e.data[t][n]},e.gridList.push(a)})})}),4==this.Object.LanguageId&&this.service.getTuJSON().subscribe(function(t){if(e.gridList=[],e.data=t,null==e.data||null==e.data)return!1;Object.keys(e.data).forEach(function(t){Object.keys(e.data[t]).forEach(function(n){var a;a={description:t,key:n,value:e.data[t][n]},e.gridList.push(a)})})})}},{key:"uploadedFile",value:function(e){this.fileUploaded=e.target.files[0],this.namefile=this.fileUploaded.name,this.readExcel()}},{key:"readExcel",value:function(){var e=this,t=new FileReader;t.onload=function(n){e.storeData=t.result;for(var a=new Uint8Array(e.storeData),i=new Array,r=0;r!=a.length;++r)i[r]=String.fromCharCode(a[r]);var l=i.join(""),o=h.a(l,{type:"binary"});e.worksheet=o.Sheets[o.SheetNames[0]]},t.readAsArrayBuffer(this.fileUploaded)}},{key:"readAsJson",value:function(){var e=this;this.jsonData=h.b.sheet_to_json(this.worksheet,{raw:!1}),this.jsonData&&this.jsonData.length?(this.gridList=[],this.jsonData.forEach(function(t){var n,a=t.key.split(".");n={description:a[0],key:a[1],value:t.value},e.gridList.push(n)}),this.grid.refresh(),this.AddData()):this.toastr.warning("Please select file to import !")}},{key:"AddData",value:function(){var e=this;this.fullresponseobj={},this.groupBy(this.gridList,"description").forEach(function(t){e.description="",e.responseobj={},t.forEach(function(t){e.description=t.description.toString();var n=t.key.toString();e.responseobj[n]=t.value}),e.fullresponseobj[e.description]=e.responseobj}),this.jsonData=JSON.stringify(this.fullresponseobj),new Blob([this.jsonData],{type:"application/json"}),2==this.Object.LanguageId&&this.changeTranslationFile("ar",this.jsonData),1==this.Object.LanguageId&&this.changeTranslationFile("en",this.jsonData),3==this.Object.LanguageId&&this.changeTranslationFile("fr",this.jsonData),4==this.Object.LanguageId&&this.changeTranslationFile("tu",this.jsonData)}},{key:"changeTranslationFile",value:function(e,t){var n=this;this.branchService.ChangeTranslationType({Lang:e,Data:t}).subscribe(function(e){e?n.toastr.success(n.toastrMessage.GlobalMessages(1)):n.toastr.error(n.toastrMessage.GlobalMessages(""))})}},{key:"groupBy",value:function(e,t){var n=new Map;return e.forEach(function(e){var a=e[t],i=n.get(a);i?i.push(e):n.set(a,[e])}),n}},{key:"btnClicked",value:function(){var e=this;this.excelexportList=[],this.gridList.forEach(function(t){var n;n={key:t.description.toString()+"."+t.key.toString(),value:t.value},e.excelexportList.push(n)}),this.grid.excelExport({dataSource:this.excelexportList})}}]),t}(),l.\u0275fac=function(e){return new(e||l)(p["\u0275\u0275directiveInject"](v),p["\u0275\u0275directiveInject"](b.a),p["\u0275\u0275directiveInject"](S.e),p["\u0275\u0275directiveInject"](y.c),p["\u0275\u0275directiveInject"](E.i),p["\u0275\u0275directiveInject"](E.d))},l.\u0275cmp=p["\u0275\u0275defineComponent"]({type:l,selectors:[["app-change-language"]],viewQuery:function(e,t){var n;1&e&&p["\u0275\u0275viewQuery"](x,5),2&e&&p["\u0275\u0275queryRefresh"](n=p["\u0275\u0275loadQuery"]())&&(t.grid=n.first)},decls:58,vars:30,consts:[["name","\u064cchangClanguageform","novalidate","",1,"col-md-12",3,"ngSubmit"],["frmRef","ngForm"],[1,"row"],[1,"col-md-12"],[1,"ms-panel-fh"],[1,"cont"],[1,"ms-panel","rounded"],[1,"ms-panel-body","clearfix"],[1,"tab-content"],[1,"col-md-12","mb-3"],[1,"col-md-2","d-flex","justify-content-start","align-items-center","label1"],["for","validationCustom19"],[1,"col-md-4","paddingLeftz"],[1,"input-group","editInputGroup"],[1,"input-group-addon"],[1,"fas","fa-language"],[1,"input-group","positionEdit"],["name","LanguageId","id","language_id","placeholder","Select Language",1,"form-control","borderRadius",3,"ngModel","dataSource","autofill","allowFiltering","fields","value","ngModelChange","valueChange"],["LanguageId","ngModel"],[1,"col-md-2"],["type","button",1,"btn","btn-info","btnEdit","has-icon","m-0",3,"click"],[1,"material-icons"],[1,"custom-file"],["type","file","id","customFile","placeholder","Upload file","accept",".xlsx",1,"form-control",3,"value","change"],[1,"ms-card"],[1,"ms-card-body"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-file-excel-o",2,"font-size","20px","color","black"],["id","Grid",3,"dataSource","allowPaging","pageSettings","allowSorting","allowFiltering","filterSettings","allowGrouping","allowExcelExport","toolbarClick"],["grid",""],["field","description","headerText","description","textAlign","center"],["field","key","headerText","key","textAlign","left"],["field","value","headerText","value","textAlign","left"]],template:function(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"form",0,1),p["\u0275\u0275listener"]("ngSubmit",function(){return p["\u0275\u0275restoreView"](n),p["\u0275\u0275reference"](1).form.valid}),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"div",3),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275elementStart"](5,"div",5),p["\u0275\u0275elementStart"](6,"div",6),p["\u0275\u0275elementStart"](7,"div",7),p["\u0275\u0275elementStart"](8,"div",8),p["\u0275\u0275elementStart"](9,"div",2),p["\u0275\u0275elementStart"](10,"div",9),p["\u0275\u0275elementStart"](11,"div",2),p["\u0275\u0275elementStart"](12,"div",10),p["\u0275\u0275elementStart"](13,"label",11),p["\u0275\u0275text"](14),p["\u0275\u0275pipe"](15,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"div",12),p["\u0275\u0275elementStart"](17,"div",13),p["\u0275\u0275elementStart"](18,"div",14),p["\u0275\u0275element"](19,"i",15),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](20,"div",16),p["\u0275\u0275elementStart"](21,"ejs-combobox",17,18),p["\u0275\u0275listener"]("ngModelChange",function(e){return t.Object.LanguageId=e})("valueChange",function(e){return t.combovalLanguage=e}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"div",19),p["\u0275\u0275elementStart"](24,"button",20),p["\u0275\u0275listener"]("click",function(){return t.getdata()}),p["\u0275\u0275elementStart"](25,"i",21),p["\u0275\u0275text"](26,"arrow_upward"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](27),p["\u0275\u0275pipe"](28,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](29,"div",9),p["\u0275\u0275elementStart"](30,"div",2),p["\u0275\u0275elementStart"](31,"div",10),p["\u0275\u0275elementStart"](32,"label",11),p["\u0275\u0275text"](33),p["\u0275\u0275pipe"](34,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](35,"div",12),p["\u0275\u0275elementStart"](36,"div",13),p["\u0275\u0275elementStart"](37,"div",22),p["\u0275\u0275elementStart"](38,"input",23),p["\u0275\u0275listener"]("change",function(e){return t.uploadedFile(e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](39,"div",19),p["\u0275\u0275elementStart"](40,"button",20),p["\u0275\u0275listener"]("click",function(){return t.readAsJson()}),p["\u0275\u0275elementStart"](41,"i",21),p["\u0275\u0275text"](42,"arrow_upward"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](43),p["\u0275\u0275pipe"](44,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](45,"div",3),p["\u0275\u0275elementStart"](46,"div",24),p["\u0275\u0275elementStart"](47,"div",25),p["\u0275\u0275elementStart"](48,"button",26),p["\u0275\u0275listener"]("click",function(){return t.btnClicked()}),p["\u0275\u0275elementStart"](49,"i",27),p["\u0275\u0275text"](50),p["\u0275\u0275pipe"](51,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](52,"ejs-grid",28,29),p["\u0275\u0275listener"]("toolbarClick",function(e){return t.toolbarClick(e)}),p["\u0275\u0275elementStart"](54,"e-columns"),p["\u0275\u0275element"](55,"e-column",30),p["\u0275\u0275element"](56,"e-column",31),p["\u0275\u0275element"](57,"e-column",32),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}2&e&&(p["\u0275\u0275advance"](14),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](15,20,"Layout.Language")," : "),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngModel",t.Object.LanguageId)("dataSource",t.languages)("autofill",!0)("allowFiltering",!0)("fields",t.fields)("value",t.combovalLanguage),p["\u0275\u0275advance"](6),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](28,22,"Shared.Show")," "),p["\u0275\u0275advance"](6),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](34,24,"Shared.Import")," : "),p["\u0275\u0275advance"](5),p["\u0275\u0275propertyInterpolate"]("value",t.fileUploaded),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](44,26,"Shared.Getdatafromfile")," "),p["\u0275\u0275advance"](7),p["\u0275\u0275textInterpolate1"](" \xa0 ",p["\u0275\u0275pipeBind1"](51,28,"Shared.ExportToExcel"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("dataSource",t.gridList)("allowPaging",!0)("pageSettings",t.pageSettings)("allowSorting",!0)("allowFiltering",!0)("filterSettings",t.filterOptions)("allowGrouping",!0)("allowExcelExport",!0))},directives:[c.C,c.s,c.t,j.a,c.r,c.u,k.p,k.g,k.b,k.f,k.a],pipes:[S.d],styles:[""]}),l)}],L=((s=function t(){e(this,t)}).\u0275fac=function(e){return new(e||s)},s.\u0275mod=p["\u0275\u0275defineNgModule"]({type:s}),s.\u0275inj=p["\u0275\u0275defineInjector"]({imports:[[g.f.forChild(w)],g.f]}),s),I=((o=function t(){e(this,t)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=p["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=p["\u0275\u0275defineInjector"]({imports:[[d.CommonModule,L,c.j,c.y,c.j,c.y,u.a]]}),o)}}])}();