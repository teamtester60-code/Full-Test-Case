(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{peIk:function(e,t,n){"use strict";n.r(t),n.d(t,"ChangeLanguageModule",function(){return j});var i=n("ofXK"),a=n("3Pt+"),r=n("PCNd"),s=n("tyNb"),l=n("VfRC"),o=n("JcrP"),d=n("fXoL"),c=n("tk/3");let h=(()=>{class e{constructor(e){this.http=e}getArJSON(){return this.http.get("assets/i18n/ar.json")}deleteArJSON(){return this.http.delete("assets/i18n/ar.json")}getEnJSON(){return this.http.get("assets/i18n/en.json")}getFrJSON(){return this.http.get("assets/i18n/fr.json")}getTuJSON(){return this.http.get("assets/i18n/tu.json")}Add(e){}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](c.b))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=n("R9YG"),g=n("sYmb"),p=n("e4hC"),m=n("TQQS"),f=n("jcQU"),S=n("GJ+o");const b=["grid"],v=[{path:"",component:(()=>{class e{constructor(e,t,n,i,a,r){this.service=e,this.languageSerService=t,this.translate=n,this.branchService=i,this.toastr=a,this.toastrMessage=r,this.languages=[{Id:1,Name:"English"},{Id:2,Name:"Arabic"},{Id:3,Name:"French "},{Id:4,Name:"Turkish"}],this.fields={text:"Name",value:"Id"},this.Object=new l.a,this.namefile="Uploaded File",this.languageSerService.currentLang.subscribe(e=>this.language=e),this.translate.use(this.language)}ngOnInit(){this.Object.LanguageId=1,this.getdata(),this.initializeGrid(),this.responseobj={},this.fullresponseobj={}}initializeGrid(){this.pageSettings={pageSizes:!0,pageSize:10},this.toolbarOptions=["ExcelExport"],this.filterOptions={type:"Menu"}}toolbarClick(e){"Grid_excelexport"===e.item.id&&(this.excelexportList=[],this.gridList.forEach(e=>{let t={};t={key:e.description.toString()+"."+e.key.toString(),value:e.value},this.excelexportList.push(t)}),this.grid.excelExport({dataSource:this.excelexportList}))}getdata(){1==this.Object.LanguageId&&this.service.getEnJSON().subscribe(e=>{if(this.gridList=[],this.data=e,null==this.data||null==this.data)return!1;Object.keys(this.data).forEach(e=>{Object.keys(this.data[e]).forEach(t=>{let n={};n={description:e,key:t,value:this.data[e][t]},this.gridList.push(n)})})}),2==this.Object.LanguageId&&this.service.getArJSON().subscribe(e=>{if(this.gridList=[],this.data=e,null==this.data||null==this.data)return!1;Object.keys(this.data).forEach(e=>{Object.keys(this.data[e]).forEach(t=>{let n={};n={description:e,key:t,value:this.data[e][t]},this.gridList.push(n)})})}),3==this.Object.LanguageId&&this.service.getFrJSON().subscribe(e=>{if(this.gridList=[],this.data=e,null==this.data||null==this.data)return!1;Object.keys(this.data).forEach(e=>{Object.keys(this.data[e]).forEach(t=>{let n={};n={description:e,key:t,value:this.data[e][t]},this.gridList.push(n)})})}),4==this.Object.LanguageId&&this.service.getTuJSON().subscribe(e=>{if(this.gridList=[],this.data=e,null==this.data||null==this.data)return!1;Object.keys(this.data).forEach(e=>{Object.keys(this.data[e]).forEach(t=>{let n={};n={description:e,key:t,value:this.data[e][t]},this.gridList.push(n)})})})}uploadedFile(e){this.fileUploaded=e.target.files[0],this.namefile=this.fileUploaded.name,this.readExcel()}readExcel(){let e=new FileReader;e.onload=t=>{this.storeData=e.result;for(var n=new Uint8Array(this.storeData),i=new Array,a=0;a!=n.length;++a)i[a]=String.fromCharCode(n[a]);var r=i.join(""),s=o.a(r,{type:"binary"});this.worksheet=s.Sheets[s.SheetNames[0]]},e.readAsArrayBuffer(this.fileUploaded)}readAsJson(){this.jsonData=o.b.sheet_to_json(this.worksheet,{raw:!1}),this.jsonData&&this.jsonData.length?(this.gridList=[],this.jsonData.forEach(e=>{let t=e.key.split("."),n={};n={description:t[0],key:t[1],value:e.value},this.gridList.push(n)}),this.grid.refresh(),this.AddData()):this.toastr.warning("Please select file to import !")}AddData(){this.fullresponseobj={},this.groupBy(this.gridList,"description").forEach(e=>{this.description="",this.responseobj={},e.forEach(e=>{this.description=e.description.toString();let t=e.key.toString();this.responseobj[t]=e.value}),this.fullresponseobj[this.description]=this.responseobj}),this.jsonData=JSON.stringify(this.fullresponseobj),new Blob([this.jsonData],{type:"application/json"}),2==this.Object.LanguageId&&this.changeTranslationFile("ar",this.jsonData),1==this.Object.LanguageId&&this.changeTranslationFile("en",this.jsonData),3==this.Object.LanguageId&&this.changeTranslationFile("fr",this.jsonData),4==this.Object.LanguageId&&this.changeTranslationFile("tu",this.jsonData)}changeTranslationFile(e,t){this.branchService.ChangeTranslationType({Lang:e,Data:t}).subscribe(e=>{e?this.toastr.success(this.toastrMessage.GlobalMessages(1)):this.toastr.error(this.toastrMessage.GlobalMessages(""))})}groupBy(e,t){const n=new Map;return e.forEach(e=>{const i=e[t],a=n.get(i);a?a.push(e):n.set(i,[e])}),n}btnClicked(){this.excelexportList=[],this.gridList.forEach(e=>{let t={};t={key:e.description.toString()+"."+e.key.toString(),value:e.value},this.excelexportList.push(t)}),this.grid.excelExport({dataSource:this.excelexportList})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](h),d["\u0275\u0275directiveInject"](u.a),d["\u0275\u0275directiveInject"](g.e),d["\u0275\u0275directiveInject"](p.c),d["\u0275\u0275directiveInject"](m.i),d["\u0275\u0275directiveInject"](m.d))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-language"]],viewQuery:function(e,t){if(1&e&&d["\u0275\u0275viewQuery"](b,5),2&e){let e;d["\u0275\u0275queryRefresh"](e=d["\u0275\u0275loadQuery"]())&&(t.grid=e.first)}},decls:58,vars:30,consts:[["name","\u064cchangClanguageform","novalidate","",1,"col-md-12",3,"ngSubmit"],["frmRef","ngForm"],[1,"row"],[1,"col-md-12"],[1,"ms-panel-fh"],[1,"cont"],[1,"ms-panel","rounded"],[1,"ms-panel-body","clearfix"],[1,"tab-content"],[1,"col-md-12","mb-3"],[1,"col-md-2","d-flex","justify-content-start","align-items-center","label1"],["for","validationCustom19"],[1,"col-md-4","paddingLeftz"],[1,"input-group","editInputGroup"],[1,"input-group-addon"],[1,"fas","fa-language"],[1,"input-group","positionEdit"],["name","LanguageId","id","language_id","placeholder","Select Language",1,"form-control","borderRadius",3,"ngModel","dataSource","autofill","allowFiltering","fields","value","ngModelChange","valueChange"],["LanguageId","ngModel"],[1,"col-md-2"],["type","button",1,"btn","btn-info","btnEdit","has-icon","m-0",3,"click"],[1,"material-icons"],[1,"custom-file"],["type","file","id","customFile","placeholder","Upload file","accept",".xlsx",1,"form-control",3,"value","change"],[1,"ms-card"],[1,"ms-card-body"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-file-excel-o",2,"font-size","20px","color","black"],["id","Grid",3,"dataSource","allowPaging","pageSettings","allowSorting","allowFiltering","filterSettings","allowGrouping","allowExcelExport","toolbarClick"],["grid",""],["field","description","headerText","description","textAlign","center"],["field","key","headerText","key","textAlign","left"],["field","value","headerText","value","textAlign","left"]],template:function(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"form",0,1),d["\u0275\u0275listener"]("ngSubmit",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275reference"](1).form.valid}),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275elementStart"](4,"div",4),d["\u0275\u0275elementStart"](5,"div",5),d["\u0275\u0275elementStart"](6,"div",6),d["\u0275\u0275elementStart"](7,"div",7),d["\u0275\u0275elementStart"](8,"div",8),d["\u0275\u0275elementStart"](9,"div",2),d["\u0275\u0275elementStart"](10,"div",9),d["\u0275\u0275elementStart"](11,"div",2),d["\u0275\u0275elementStart"](12,"div",10),d["\u0275\u0275elementStart"](13,"label",11),d["\u0275\u0275text"](14),d["\u0275\u0275pipe"](15,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"div",12),d["\u0275\u0275elementStart"](17,"div",13),d["\u0275\u0275elementStart"](18,"div",14),d["\u0275\u0275element"](19,"i",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"div",16),d["\u0275\u0275elementStart"](21,"ejs-combobox",17,18),d["\u0275\u0275listener"]("ngModelChange",function(e){return t.Object.LanguageId=e})("valueChange",function(e){return t.combovalLanguage=e}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"div",19),d["\u0275\u0275elementStart"](24,"button",20),d["\u0275\u0275listener"]("click",function(){return t.getdata()}),d["\u0275\u0275elementStart"](25,"i",21),d["\u0275\u0275text"](26,"arrow_upward"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](27),d["\u0275\u0275pipe"](28,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"div",9),d["\u0275\u0275elementStart"](30,"div",2),d["\u0275\u0275elementStart"](31,"div",10),d["\u0275\u0275elementStart"](32,"label",11),d["\u0275\u0275text"](33),d["\u0275\u0275pipe"](34,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](35,"div",12),d["\u0275\u0275elementStart"](36,"div",13),d["\u0275\u0275elementStart"](37,"div",22),d["\u0275\u0275elementStart"](38,"input",23),d["\u0275\u0275listener"]("change",function(e){return t.uploadedFile(e)}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](39,"div",19),d["\u0275\u0275elementStart"](40,"button",20),d["\u0275\u0275listener"]("click",function(){return t.readAsJson()}),d["\u0275\u0275elementStart"](41,"i",21),d["\u0275\u0275text"](42,"arrow_upward"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](43),d["\u0275\u0275pipe"](44,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](45,"div",3),d["\u0275\u0275elementStart"](46,"div",24),d["\u0275\u0275elementStart"](47,"div",25),d["\u0275\u0275elementStart"](48,"button",26),d["\u0275\u0275listener"]("click",function(){return t.btnClicked()}),d["\u0275\u0275elementStart"](49,"i",27),d["\u0275\u0275text"](50),d["\u0275\u0275pipe"](51,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](52,"ejs-grid",28,29),d["\u0275\u0275listener"]("toolbarClick",function(e){return t.toolbarClick(e)}),d["\u0275\u0275elementStart"](54,"e-columns"),d["\u0275\u0275element"](55,"e-column",30),d["\u0275\u0275element"](56,"e-column",31),d["\u0275\u0275element"](57,"e-column",32),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}2&e&&(d["\u0275\u0275advance"](14),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](15,20,"Layout.Language")," : "),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngModel",t.Object.LanguageId)("dataSource",t.languages)("autofill",!0)("allowFiltering",!0)("fields",t.fields)("value",t.combovalLanguage),d["\u0275\u0275advance"](6),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](28,22,"Shared.Show")," "),d["\u0275\u0275advance"](6),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](34,24,"Shared.Import")," : "),d["\u0275\u0275advance"](5),d["\u0275\u0275propertyInterpolate"]("value",t.fileUploaded),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](44,26,"Shared.Getdatafromfile")," "),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate1"](" \xa0 ",d["\u0275\u0275pipeBind1"](51,28,"Shared.ExportToExcel"),""),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("dataSource",t.gridList)("allowPaging",!0)("pageSettings",t.pageSettings)("allowSorting",!0)("allowFiltering",!0)("filterSettings",t.filterOptions)("allowGrouping",!0)("allowExcelExport",!0))},directives:[a.C,a.s,a.t,f.a,a.r,a.u,S.p,S.g,S.b,S.f,S.a],pipes:[g.d],styles:[""]}),e})()}];let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[s.f.forChild(v)],s.f]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,E,a.j,a.y,a.j,a.y,r.a]]}),e})()}}]);