(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{Klng:function(e,t,n){"use strict";n.r(t),n.d(t,"IntegrationSystemModule",function(){return H});var r=n("ofXK"),i=n("tyNb"),a=n("r7bl"),o=n("fXoL"),s=n("R9YG"),l=n("sYmb"),d=n("lmDL"),c=n("GJ+o");const m=["grid"];function u(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",9),o["\u0275\u0275elementStart"](1,"button",10),o["\u0275\u0275listener"]("click",function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onResourceEditIntegrationProducts(t)}),o["\u0275\u0275element"](2,"i",11),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",10),o["\u0275\u0275listener"]("click",function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onResourceEditIntegrationProducts(t,"IntegrationPayments")}),o["\u0275\u0275element"](6,"i",11),o["\u0275\u0275text"](7),o["\u0275\u0275pipe"](8,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](4,2,"Shared.IntegrationProducts")," "),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](8,4,"Shared.IntegrationPayments")," "))}let p=(()=>{class e extends a.b{constructor(e,t,n,r,i,a,o){super(t,n,r,o),this.IntegrationSettingSer=e,this.toast=t,this.messages=n,this.SettingSer=r,this.languageSerService=i,this.translate=a,this.Rout=o,this.initializeobjects()}ngOnInit(){this.GetGrideList().subscribe(()=>{this.toolbarList=[],this.showNew&&this.toolbarList.push({text:"Add",tooltipText:"Add",prefixIcon:"e-add",id:"Add"}),this.showView&&this.toolbarList.push({text:"",tooltipText:"View",prefixIcon:"e-view",id:"View"}),this.showEdit&&this.toolbarList.push({text:"",tooltipText:"Edit",prefixIcon:"e-edit",id:"Edit"}),this.showDelete&&this.toolbarList.push({text:"",tooltipText:"Delete",prefixIcon:"e-delete",id:"Delete"}),this.showPrint&&this.toolbarList.push({text:"",tooltipText:"Print",prefixIcon:"e-print",id:"Print"}),this.toolbarOptions=this.toolbarList}),this.initializeGrid(),setTimeout(()=>{this.DisabledGridButton()},300)}initializeobjects(){this.responseobj={},this.service=this.IntegrationSettingSer,this.showEdit=!1,this.showDelete=!1,this.showNew=!1,this.showView=!1,this.showPrint=!1,this.RouteName="/IntegrationSetting",this.languageSerService.currentLang.subscribe(e=>this.language=e),this.translate.use(this.language)}onResourceEdit(e){const t=this.grid.getRowInfo(e.target).rowData;this.router.navigateByUrl("/IntegrationSetting",t)}onResourceEditIntegrationProducts(e,t="IntegrationProducts"){const n=this.grid.getRowInfo(e.target).rowData;n.showEdit=this.showEdit,this.router.navigateByUrl("IntegrationProducts"==t?"/IntegrationSetting/"+t:"/IntegrationSetting/IntegrationPayments",n)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.e),o["\u0275\u0275directiveInject"](a.h),o["\u0275\u0275directiveInject"](a.c),o["\u0275\u0275directiveInject"](a.g),o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](l.e),o["\u0275\u0275directiveInject"](a.f))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-integration-list"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](m,5),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.grid=e.first)}},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:15,vars:20,consts:[[1,"col-lg-12"],[1,"ms-card"],[1,"ms-card-body"],["id","Grid",3,"dataSource","allowPaging","pageSettings","allowSorting","allowFiltering","filterSettings","toolbar","allowGrouping","allowPdfExport","allowExcelExport","editSettings","toolbarClick"],["grid",""],["field","IntegrationSystemName","textAlign","center",3,"headerText"],["field","URL","textAlign","left",3,"headerText"],[3,"headerText"],["template",""],[1,"center","d-flex","justify-content-around","align-items-center"],["title","Edit",1,"btn","btn-outline-success","p-1","has-icon","m-0",2,"min-width","fit-content !important",3,"click"],[1,"fa","m-0","fa-link"]],template:function(e,t){1&e&&(o["\u0275\u0275element"](0,"app-breadcrumbs"),o["\u0275\u0275elementStart"](1,"div",0),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275elementStart"](3,"div",2),o["\u0275\u0275elementStart"](4,"ejs-grid",3,4),o["\u0275\u0275listener"]("toolbarClick",function(e){return t.toolbarClick(e)}),o["\u0275\u0275elementStart"](6,"e-columns"),o["\u0275\u0275element"](7,"e-column",5),o["\u0275\u0275pipe"](8,"translate"),o["\u0275\u0275element"](9,"e-column",6),o["\u0275\u0275pipe"](10,"translate"),o["\u0275\u0275elementStart"](11,"e-column",7),o["\u0275\u0275pipe"](12,"translate"),o["\u0275\u0275template"](13,u,9,6,"ng-template",null,8,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("dataSource",t.responseobj.List)("allowPaging",!0)("pageSettings",t.pageSettings)("allowSorting",!0)("allowFiltering",!0)("filterSettings",t.filterOptions)("toolbar",t.toolbarOptions)("allowGrouping",!0)("allowPdfExport",!0)("allowExcelExport",!0)("editSettings",t.editOptions),o["\u0275\u0275advance"](3),o["\u0275\u0275propertyInterpolate"]("headerText",o["\u0275\u0275pipeBind1"](8,14,"Shared.Name")),o["\u0275\u0275advance"](2),o["\u0275\u0275propertyInterpolate"]("headerText",o["\u0275\u0275pipeBind1"](10,16,"Shared.URL")),o["\u0275\u0275advance"](2),o["\u0275\u0275propertyInterpolate"]("headerText",o["\u0275\u0275pipeBind1"](12,18,"delivery.Actions")))},directives:[d.a,c.p,c.g,c.b,c.f,c.a],pipes:[l.d],styles:[""]}),e})();var g=n("3Pt+"),h=n("jcQU");const f=["frmRef"];function S(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",21),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().SaveProducts()}),o["\u0275\u0275element"](1,"i",22),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("",o["\u0275\u0275pipeBind1"](3,1,"pagetransactions.Save")," "))}function v(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"tr",23),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td",24),o["\u0275\u0275elementStart"](4,"ejs-combobox",25),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.ProductDocumentId=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.Name),o["\u0275\u0275advance"](2),o["\u0275\u0275propertyInterpolate"]("name","ProductDocumentId"+n),o["\u0275\u0275propertyInterpolate"]("id","ProductDocumentId"+n),o["\u0275\u0275property"]("ngModel",e.ProductDocumentId)("allowFiltering",!0)("fields",r.flds)("autofill",!0)("dataSource",r.productList)}}let b=(()=>{class e extends a.i{constructor(e,t,n,r,i,a,o){super(),this.IntegrationSettingSer=e,this.router=t,this.route=n,this.toastr=r,this.toastrMessage=i,this.languageSerService=a,this.translate=o,this.data={},this.flds={text:"ProductName",value:"ProductDocumentId"},this.initializeobjects()}initializeobjects(){this.responseobj=new a.d,this.service=this.IntegrationSettingSer,this.request=this.router.getCurrentNavigation().extras,this.languageSerService.currentLang.subscribe(e=>this.language=e),this.translate.use(this.language)}ngOnInit(){null!=this.request.DocumentId&&null!=this.request.DocumentId!=null&&""!=this.request.DocumentId?(console.log(this.yemekSepetiProducts),this.IntegrationSettingSer.GetIntegrationSettingproduct(this.request.DocumentId).subscribe(e=>{var t;this.data=e.Model,this.yemekSepetiProducts=[];let n=e.FoodOrderProducts;this.IntegrationSettingProductList=[],(null===(t=this.data)||void 0===t?void 0:t.IntegrationProductList).forEach(e=>{this.IntegrationSettingProductList.push({ProductName:e.ProductName,ProductDocumentId:e.ProductDocumentId,ReferenceCode:e.ReferenceCode})}),n.forEach(e=>{let t=this.IntegrationSettingProductList.filter(t=>t.ReferenceCode==e.Id)[0];t&&console.log(t),this.yemekSepetiProducts.push({Name:e.Name,ProductDocumentId:null==t?void 0:t.ProductDocumentId,ReferenceCode:e.Id})}),this.productList=this.distinct(this.IntegrationSettingProductList,"ProductName")})):(this.router.navigate(["/IntegrationSetting/Integrationlist"]),this.toastr.error("Should Choose aPricing Class First","Pricing Class"))}SaveProducts(){this.IntegrationSettingSer.updateIntegrationProducts({DocumentId:this.request.DocumentId,IntegrationSettingProducts:this.yemekSepetiProducts}).subscribe(e=>{1==e?(this.toastr.success(this.toastrMessage.GlobalMessages(e)),this.router.navigate(["/IntegrationSetting/Integrationlist"])):this.toastr.error(this.toastrMessage.GlobalMessages(e))})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.e),o["\u0275\u0275directiveInject"](a.f),o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](a.h),o["\u0275\u0275directiveInject"](a.c),o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](l.e))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-integration-setting-products"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](f,5),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.frmRef=e.first)}},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:33,vars:13,consts:[[1,"col-md-12"],[1,"pb-1","d-flex","justify-content-start","align-items-center"],["type","submit","class","btn btn-outline-info btnNav",3,"click",4,"ngIf","ngIfElse"],[1,"ms-panel"],[1,"ms-panel-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"row","d-flex","pr-xs-0"],[1,"col-md-4","d-flex","justify-content-start","align-items-center","label1"],["for","validationCustom19"],[1,"col-md-8","paddingLeftz"],[1,"input-group","editInputGroup"],[1,"input-group-addon"],["aria-hidden","true",1,"fas","fa-user"],[1,"input-group"],["type","text","placeholder","IntegrationSystemsName","name","Name","id","IntegrationSystemsName_id","readonly","",1,"form-control","borderRadius",3,"ngModel","ngModelChange"],["IntegrationSystemsName","ngModel"],[1,"table","table-bordered","text-center","BottomTableReturnOrder","border-radius-5"],["scope","col",1,"d-flex","justify-content-center"],["scope","col"],["class","p-1","data-dismiss","modal",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-info","btnNav",3,"click"],[1,"far","fa-save","pr-1"],["data-dismiss","modal",1,"p-1"],[1,"d-flex","justify-content-center"],[1,"form-control","borderRadius",3,"name","id","ngModel","allowFiltering","fields","autofill","dataSource","ngModelChange"]],template:function(e,t){1&e&&(o["\u0275\u0275element"](0,"app-breadcrumbs"),o["\u0275\u0275elementStart"](1,"div",0),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275template"](3,S,4,3,"button",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",0),o["\u0275\u0275elementStart"](5,"div",3),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"div",5),o["\u0275\u0275elementStart"](8,"div",6),o["\u0275\u0275elementStart"](9,"div",7),o["\u0275\u0275elementStart"](10,"div",8),o["\u0275\u0275elementStart"](11,"label",9),o["\u0275\u0275text"](12),o["\u0275\u0275pipe"](13,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",10),o["\u0275\u0275elementStart"](15,"div",11),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275element"](17,"i",13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"div",14),o["\u0275\u0275elementStart"](19,"input",15,16),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.data.IntegrationSystemsName=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"div",0),o["\u0275\u0275elementStart"](22,"table",17),o["\u0275\u0275elementStart"](23,"thead"),o["\u0275\u0275elementStart"](24,"tr"),o["\u0275\u0275elementStart"](25,"th",18),o["\u0275\u0275text"](26),o["\u0275\u0275pipe"](27,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"th",19),o["\u0275\u0275text"](29),o["\u0275\u0275pipe"](30,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"tbody"),o["\u0275\u0275template"](32,v,5,8,"tr",20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",t.request.showEdit)("ngIfElse",!1),o["\u0275\u0275advance"](9),o["\u0275\u0275textInterpolate1"]("",o["\u0275\u0275pipeBind1"](13,7,"Shared.Name")," "),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.data.IntegrationSystemsName),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](27,9,"products.YemekProducts")," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](30,11,"products.Products")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngForOf",t.yemekSepetiProducts))},directives:[d.a,r.NgIf,g.c,g.r,g.u,r.NgForOf,h.a],pipes:[l.d],styles:[""]}),e})();var I=n("uU2i"),y=n("5eHb"),x=n("2MjX"),E=n("auvQ");const C=["frmRef"];function w(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",39),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.IntegrationIsrequired")," "))}function P(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",37),o["\u0275\u0275template"](1,w,3,3,"div",38),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](20);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.errors.required)}}function j(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"label",10),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.TakeawayOrderType")," "))}function M(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"label",10),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.OrderType")," "))}function R(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",39),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.Required")," "))}function O(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,R,3,3,"div",38),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](33);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.errors.required)}}function k(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",39),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.Required")," "))}function N(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,k,3,3,"div",38),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](12);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.errors.required)}}function T(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275elementStart"](1,"div",8),o["\u0275\u0275elementStart"](2,"div",9),o["\u0275\u0275elementStart"](3,"label",10),o["\u0275\u0275text"](4),o["\u0275\u0275pipe"](5,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",11),o["\u0275\u0275elementStart"](7,"div",12),o["\u0275\u0275elementStart"](8,"div",13),o["\u0275\u0275element"](9,"i",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",15),o["\u0275\u0275elementStart"](11,"ejs-combobox",40,41),o["\u0275\u0275listener"]("ngModelChange",function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().responseobj.OrderTypeDeliveryDocumentId=t}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](13,N,2,1,"div",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](12),t=o["\u0275\u0275nextContext"](),n=o["\u0275\u0275reference"](2);o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](5,9,"Shared.DeliveryOrderType")," "),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("required",!0)("ngModel",t.responseobj.OrderTypeDeliveryDocumentId)("allowFiltering",!0)("autofill",!0)("dataSource",t.responseobj.OrderTypeList)("fields",t.Flld)("enabled",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.submitted&&e.invalid||e.invalid&&e.touched)}}function D(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",39),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.Required")," "))}function q(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,D,3,3,"div",38),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](48);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.errors.required)}}function F(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",39),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.Required")," "))}function L(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,F,3,3,"div",38),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](63);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.errors.required)}}function B(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",39),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.Required")," "))}function A(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,B,3,3,"div",38),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](12);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.errors.required)}}function _(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275elementStart"](1,"div",8),o["\u0275\u0275elementStart"](2,"div",9),o["\u0275\u0275elementStart"](3,"label",42),o["\u0275\u0275text"](4),o["\u0275\u0275pipe"](5,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",11),o["\u0275\u0275elementStart"](7,"div",12),o["\u0275\u0275elementStart"](8,"div",13),o["\u0275\u0275element"](9,"i",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",15),o["\u0275\u0275elementStart"](11,"input",43,44),o["\u0275\u0275listener"]("ngModelChange",function(t){const n=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().responseobj[n.name]=t}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](13,A,2,1,"div",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275reference"](12),r=o["\u0275\u0275nextContext"](),i=o["\u0275\u0275reference"](2);o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("for",e.name),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](5,8,e.label),":"),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("name",e.name)("ngModel",r.responseobj[e.name])("id",e.name)("required",!1!==e.required)("disabled",!r.enableChiled),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",i.submitted&&n.invalid||n.invalid&&n.touched)}}function V(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",39),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"Shared.Required")," "))}function G(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",37),o["\u0275\u0275template"](1,V,3,3,"div",38),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](78);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.errors.required)}}function z(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",46),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).pullPaymentsFromServer()}),o["\u0275\u0275element"](1,"i",47),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("disabled",!e.responseobj.DocumentId),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,2,"Shared.PullPayments")," ")}}function U(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",45),o["\u0275\u0275elementStart"](1,"button",46),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().pullProdutsFromServer()}),o["\u0275\u0275element"](2,"i",47),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](5,z,4,4,"button",48),o["\u0275\u0275elementStart"](6,"div",49),o["\u0275\u0275elementStart"](7,"div"),o["\u0275\u0275elementStart"](8,"b",50),o["\u0275\u0275text"](9),o["\u0275\u0275pipe"](10,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",51),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().toggleRestaurantStatus()}),o["\u0275\u0275element"](12,"div",52),o["\u0275\u0275element"](13,"div",53),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("disabled",!e.responseobj.DocumentId),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](4,8,"Shared.PullProducts")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",3!=e.responseobj.Integration),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](10,10,"integration.RestaurantStatus")),o["\u0275\u0275advance"](2),o["\u0275\u0275styleMap"]("--open-text:"+e.openText+"; --close-text:"+e.closeText),o["\u0275\u0275classProp"]("checked",e.restaurantStatus)}}function Q(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",45),o["\u0275\u0275elementStart"](1,"button",54),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().pushToServer()}),o["\u0275\u0275element"](2,"i",55),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("disabled",!e.responseobj.DocumentId||e.start),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](4,2,"Shared.PushToServer")," ")}}function Y(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",56),o["\u0275\u0275element"](1,"i",57),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,1,"Shared.CannotRetrieveRestaurantStatus")," "))}function K(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",20),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().Save()}),o["\u0275\u0275element"](1,"i",21),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("",o["\u0275\u0275pipeBind1"](3,1,"pagetransactions.Save")," "))}function $(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"tr",22),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td",23),o["\u0275\u0275elementStart"](4,"ejs-combobox",24),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.OrderPayTypeDocumentId=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.Name),o["\u0275\u0275advance"](2),o["\u0275\u0275propertyInterpolate"]("name","OrderPayTypeDocumentId"+n),o["\u0275\u0275propertyInterpolate"]("id","OrderPayTypeDocumentId"+n),o["\u0275\u0275property"]("ngModel",e.OrderPayTypeDocumentId)("allowFiltering",!0)("fields",r.flds)("autofill",!0)("dataSource",r.orderPayTypes)}}const J=[{path:"",component:(()=>{class e extends a.i{constructor(e,t,n,r,i,a,o){super(),this.IntegrationSettingSer=e,this.router=t,this.toastr=n,this.toastrMessage=r,this.languageSerService=i,this.translate=a,this.serverSyncService=o,this.openText=JSON.stringify("Open"),this.closeText=JSON.stringify("Closed"),this.paymentTypes=[],this.Flds={text:"Name",value:"Id"},this.Flld={text:"Name",value:"DocumentId"},this.IntegrationSystemsList=[{Name:"YemekSepeti",Id:1},{Name:"GetirYemek",Id:2},{Name:"TrendYolYemek",Id:3},{Name:"Deliverect",Id:4}],this.fields={1:[{label:"Shared.URL",name:"URL"},{label:"Shared.UserName",name:"UserName"},{label:"Shared.Password",name:"Password"},{label:"Shared.CatalogName",name:"CatalogName"},{label:"Shared.CategoriId",name:"CategoriId"}],2:[{label:"Shared.URL",name:"URL"},{label:"Shared.ApiSecretKey",name:"ApiSecretKey"},{label:"Shared.RestaurantKey",name:"RestaurantSecretKey"},{label:"Shared.ClientId",name:"ClientId",required:!1},{label:"Shared.ClientSecret",name:"ClientSecret",required:!1}],3:[{label:"Shared.URL",name:"URL"},{label:"Shared.SupplierId",name:"SupplierId"},{label:"Shared.StoreId",name:"StoreId"},{label:"Shared.ApiKey",name:"ApiSecretKey"},{label:"Shared.ApiSecret",name:"RestaurantSecretKey"},{label:"Shared.Token",name:"Token",required:!1}]},this.initializeobjects()}ngOnInit(){this.scrFirstOpen().subscribe(()=>{this.responseobj.screenPermission.Print=!1,this.responseobj.CustomerList=this.responseobj.CustomerList.filter(e=>1==e.OnlineCompany),this.allCustomers=this.responseobj.CustomerList,this.paymentTypes=this.responseobj.OrderPayTypes,this.getRestaurantStatus(),this.openText=JSON.stringify(this.translate.instant("Shared.Open")),this.closeText=JSON.stringify(this.translate.instant("Shared.Closed"))})}initializeobjects(){this.responseobj={},this.service=this.IntegrationSettingSer,this.request=this.router.getCurrentNavigation().extras,this.languageSerService.currentLang.subscribe(e=>this.language=e),this.translate.use(this.language)}quickEvents(e){switch(e){case a.j.afterNew:this.afterNew({}),this.enableChiled=!0;break;case a.j.afterAdd:this.afterAdd(),this.enableChiled=!1;break;case a.j.beforeAdd:break;case a.j.afterModify:this.afterModify(),this.enableChiled=!0;break;case a.j.afterUndo:this.enableChiled=!1}}afterPag(e){this.formPaging({formObj:e}),this.getRestaurantStatus()}pullProdutsFromServer(){this.IntegrationSettingSer.pullProdutFromServer(this.responseobj.DocumentId).subscribe(e=>{1==e&&this.toastr.success(this.toastrMessage.GlobalMessages(e))})}pullPaymentsFromServer(){this.IntegrationSettingSer.pullPaymentFromServer(this.responseobj.DocumentId).subscribe(e=>{1==e&&this.toastr.success(this.toastrMessage.GlobalMessages(e))})}getRestaurantStatus(){this.restaurantStatusError=!1,!this.responseobj||2!==this.responseobj.Integration&&3!==this.responseobj.Integration||this.IntegrationSettingSer.getRestaurantStatus(this.responseobj.Integration).subscribe({next:e=>{this.restaurantStatus=e,this.restaurantStatusError=!1},error:e=>{this.restaurantStatusError=!0}})}changeRestaurantState(e){this.IntegrationSettingSer.updateRestaurantStatus(this.responseobj.Integration,e).subscribe({next:()=>{this.toastr.success(this.translate.instant("Shared.RestaurantStatusUpdated")),this.restaurantStatus=e},error:e=>{this.toastr.error(this.translate.instant("Shared.RestaurantStatusCannotUpdate"))}})}setCommission(e){const t=this.allCustomers.find(t=>t.DocumentId==e);this.responseobj.Commission=t&&t.IntegrationCommission?t.IntegrationCommission:0}toggleRestaurantStatus(){this.restaurantStatus=!this.restaurantStatus,this.changeRestaurantState(this.restaurantStatus)}pushToServer(){const e=new I.e;this.start=!0,this.serverSyncService.pushInputsToOnlineOrder(e).subscribe({complete:()=>{this.toastr.success(this.toastrMessage.GlobalMessages(1),"ServerSync"),this.start=!1},error:e=>{this.toastr.error(this.toastrMessage.GlobalMessages(e),"ServerSync")}})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.e),o["\u0275\u0275directiveInject"](i.b),o["\u0275\u0275directiveInject"](y.b),o["\u0275\u0275directiveInject"](a.c),o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](l.e),o["\u0275\u0275directiveInject"](x.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-integration-setting"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](C,5),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.frmRef=e.first)}},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:83,vars:68,consts:[["name","IntegrationSystemform","novalidate","",1,"",3,"ngSubmit"],["frmRef","ngForm"],[3,"request","form","service","formobj","pagename","pageNumber","afterPag","quickEvents"],[1,"container-fluid"],[1,"tab-content","ms-panel",2,"background","#fff"],[1,"p-3"],[1,"row","align-items-center"],[1,"col-md-6","mb-3"],[1,"row"],[1,"col-md-4","d-flex","justify-content-start","align-items-center","label1"],["for","validationCustom19"],[1,"col-md-8","paddingLeftz"],[1,"input-group","editInputGroup"],[1,"input-group-addon"],[1,"fas","fa-user","fs-16"],[1,"input-group"],["name","Integration","placeholder","Select Integration","id","Integration_id",1,"form-control","borderRadius",3,"ngModel","allowFiltering","autofill","dataSource","fields","enabled","required","ngModelChange"],["Integration","ngModel"],["class","",4,"ngIf"],["for","validationCustom19",4,"ngIf"],["name","OrderTypeDocumentId","placeholder","Select Order Type","id","OrderTypeDocument_id",1,"form-control","borderRadius",3,"required","ngModel","allowFiltering","autofill","dataSource","fields","enabled","ngModelChange"],["OrderTypeDocumentId","ngModel"],[4,"ngIf"],["class","col-md-6 mb-3",4,"ngIf"],["name","CustomerDocumentId","id","CustomerDocumentId_id",1,"form-control","borderRadius",3,"ngModel","allowFiltering","autofill","dataSource","placeholder","fields","enabled","required","ngModelChange"],["CustomerDocumentId","ngModel"],["for","paymentType"],["name","PayTypeDocumentId","id","paymentType",1,"form-control","borderRadius",3,"ngModel","allowCustom","allowFiltering","autofill","dataSource","placeholder","fields","enabled","required","ngModelChange"],["PayTypeDocumentId","ngModel"],["class","col-md-6 mb-3",4,"ngFor","ngForOf"],[1,"col-md-6","mb3"],["for","Commission"],[1,"fas","fa-percentage","fs-16"],["type","number","name","Commission","id","Commission",1,"form-control","borderRadius",3,"ngModel","required","disabled","ngModelChange"],["Commission","ngModel"],["class","col-12 mt-3 mb-3 d-flex justify-content-start align-items-center","style","gap:0.5rem",4,"ngIf"],["class","col-12 text-danger",4,"ngIf"],[1,""],["class","alert alert-danger editAlertCash",4,"ngIf"],[1,"alert","alert-danger","editAlertCash"],["name","OrderTypeDeliveryDocumentId","placeholder","Select Order Type","id","OrderTypeDeliveryDocumentId_id",1,"form-control","borderRadius",3,"required","ngModel","allowFiltering","autofill","dataSource","fields","enabled","ngModelChange"],["OrderTypeDeliveryDocumentId","ngModel"],[3,"for"],["type","text",1,"form-control","borderRadius",3,"name","ngModel","id","required","disabled","ngModelChange"],["fieldRef","ngModel"],[1,"col-12","mt-3","mb-3","d-flex","justify-content-start","align-items-center",2,"gap","0.5rem"],["type","button","name","pull",1,"btn","bg-blue","shadow-none","btnWA","my-0",3,"disabled","click"],[1,"fas","fa-arrow-down"],["type","button","name","pull","class","btn bg-blue shadow-none btnWA my-0",3,"disabled","click",4,"ngIf"],[1,"d-flex","align-items-center","pl-3","border",2,"background","#EEE","border-radius","50rem"],[1,"mr-2"],["role","switch","id","button-1",1,"button","r",3,"click"],[1,"knobs"],[1,"layer"],["type","button","name","pushToServer",1,"btn","bg-blue","shadow-none","btnWA","my-0",3,"disabled","click"],[1,"fas","fa-arrow-up"],[1,"col-12","text-danger"],[1,"fa","fa-exclamation-triangle","mr-2"]],template:function(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275element"](0,"app-breadcrumbs"),o["\u0275\u0275elementStart"](1,"form",0,1),o["\u0275\u0275listener"]("ngSubmit",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275reference"](2).form.valid}),o["\u0275\u0275elementStart"](3,"app-pagetransactions",2),o["\u0275\u0275listener"]("afterPag",function(e){return t.afterPag(e)})("quickEvents",function(e){return t.quickEvents(e)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",3),o["\u0275\u0275elementStart"](5,"div",4),o["\u0275\u0275elementStart"](6,"div",5),o["\u0275\u0275elementStart"](7,"div",6),o["\u0275\u0275elementStart"](8,"div",7),o["\u0275\u0275elementStart"](9,"div",8),o["\u0275\u0275elementStart"](10,"div",9),o["\u0275\u0275elementStart"](11,"label",10),o["\u0275\u0275text"](12),o["\u0275\u0275pipe"](13,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",11),o["\u0275\u0275elementStart"](15,"div",12),o["\u0275\u0275elementStart"](16,"div",13),o["\u0275\u0275element"](17,"i",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"div",15),o["\u0275\u0275elementStart"](19,"ejs-combobox",16,17),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.responseobj.Integration=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](21,P,2,1,"div",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"div",7),o["\u0275\u0275elementStart"](23,"div",8),o["\u0275\u0275elementStart"](24,"div",9),o["\u0275\u0275template"](25,j,3,3,"label",19),o["\u0275\u0275template"](26,M,3,3,"label",19),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](27,"div",11),o["\u0275\u0275elementStart"](28,"div",12),o["\u0275\u0275elementStart"](29,"div",13),o["\u0275\u0275element"](30,"i",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"div",15),o["\u0275\u0275elementStart"](32,"ejs-combobox",20,21),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.responseobj.OrderTypeDocumentId=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](34,O,2,1,"div",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](35,T,14,11,"div",23),o["\u0275\u0275elementStart"](36,"div",7),o["\u0275\u0275elementStart"](37,"div",8),o["\u0275\u0275elementStart"](38,"div",9),o["\u0275\u0275elementStart"](39,"label",10),o["\u0275\u0275text"](40),o["\u0275\u0275pipe"](41,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](42,"div",11),o["\u0275\u0275elementStart"](43,"div",12),o["\u0275\u0275elementStart"](44,"div",13),o["\u0275\u0275element"](45,"i",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](46,"div",15),o["\u0275\u0275elementStart"](47,"ejs-combobox",24,25),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.responseobj.CustomerDocumentId=e})("ngModelChange",function(){return t.setCommission(t.responseobj.CustomerDocumentId)}),o["\u0275\u0275pipe"](49,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](50,q,2,1,"div",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](51,"div",7),o["\u0275\u0275elementStart"](52,"div",8),o["\u0275\u0275elementStart"](53,"div",9),o["\u0275\u0275elementStart"](54,"label",26),o["\u0275\u0275text"](55),o["\u0275\u0275pipe"](56,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](57,"div",11),o["\u0275\u0275elementStart"](58,"div",12),o["\u0275\u0275elementStart"](59,"div",13),o["\u0275\u0275element"](60,"i",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](61,"div",15),o["\u0275\u0275elementStart"](62,"ejs-combobox",27,28),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.responseobj.PayTypeDocumentId=e}),o["\u0275\u0275pipe"](64,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](65,L,2,1,"div",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](66,_,14,10,"div",29),o["\u0275\u0275elementStart"](67,"div",30),o["\u0275\u0275elementStart"](68,"div",8),o["\u0275\u0275elementStart"](69,"div",9),o["\u0275\u0275elementStart"](70,"label",31),o["\u0275\u0275text"](71),o["\u0275\u0275pipe"](72,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](73,"div",11),o["\u0275\u0275elementStart"](74,"div",12),o["\u0275\u0275elementStart"](75,"div",13),o["\u0275\u0275element"](76,"i",32),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](77,"input",33,34),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.responseobj.Commission=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](79,G,2,1,"div",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](80,U,14,12,"div",35),o["\u0275\u0275template"](81,Q,5,4,"div",35),o["\u0275\u0275template"](82,Y,4,3,"div",36),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](2),n=o["\u0275\u0275reference"](20),r=o["\u0275\u0275reference"](33),i=o["\u0275\u0275reference"](48),a=o["\u0275\u0275reference"](63),s=o["\u0275\u0275reference"](78);o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("request",t.request)("form",e)("service",t.service)("formobj",t.responseobj)("pagename",t.pagename)("pageNumber",t.pageNumber),o["\u0275\u0275advance"](9),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](13,56,"Shared.Name")," "),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.responseobj.Integration)("allowFiltering",!0)("autofill",!0)("dataSource",t.IntegrationSystemsList)("fields",t.Flds)("enabled",!1)("required",t.isRequired),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.submitted&&n.invalid||n.invalid&&n.touched),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",4===t.responseobj.Integration),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",4!=t.responseobj.Integration),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("required",!0)("ngModel",t.responseobj.OrderTypeDocumentId)("allowFiltering",!0)("autofill",!0)("dataSource",t.responseobj.OrderTypeList)("fields",t.Flld)("enabled",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.submitted&&r.invalid||r.invalid&&r.touched),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",4===t.responseobj.Integration),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](41,58,"Shared.selectCustomer")," "),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.responseobj.CustomerDocumentId)("allowFiltering",!0)("autofill",!0)("dataSource",t.responseobj.CustomerList)("placeholder",o["\u0275\u0275pipeBind1"](49,60,"Shared.customerlist"))("fields",t.Flld)("enabled",!1)("required",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",e.submitted&&i.invalid||i.invalid&&i.touched),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](56,62,"Shared.paymenttype")," "),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.responseobj.PayTypeDocumentId)("allowCustom",!1)("allowFiltering",!1)("autofill",!0)("dataSource",t.paymentTypes)("placeholder",o["\u0275\u0275pipeBind1"](64,64,"Shared.paymenttype"))("fields",t.Flld)("enabled",!1)("required",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",e.submitted&&a.invalid||a.invalid&&a.touched),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.fields[t.responseobj.Integration]),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate1"]("",o["\u0275\u0275pipeBind1"](72,66,"Shared.CommissionRate"),":"),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.responseobj.Commission)("required",!0)("disabled",!t.enableChiled),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.submitted&&s.invalid||s.invalid&&s.touched),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",4!=t.responseobj.Integration),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",4===t.responseobj.Integration),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.responseobj.DocumentId&&t.restaurantStatusError)}},directives:[d.a,g.C,g.s,g.t,E.a,h.a,g.r,g.u,g.z,r.NgIf,r.NgForOf,g.w,g.c],pipes:[l.d],styles:['.knobs[_ngcontent-%COMP%], .layer[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}.button[_ngcontent-%COMP%]{--open-text:"OPEN";--close-text:"CLOSED";position:relative;width:90px;height:43px;overflow:hidden;cursor:pointer}.button.r[_ngcontent-%COMP%], .button.r[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{border-radius:100px}.button.b2[_ngcontent-%COMP%]{border-radius:2px}.knobs[_ngcontent-%COMP%]{z-index:2}.layer[_ngcontent-%COMP%]{width:100%;background-color:#ffe6e6;transition:all .3s ease;z-index:1}#button-1[_ngcontent-%COMP%]   .knobs[_ngcontent-%COMP%]:before{content:"" var(--close-text);position:absolute;top:4px;left:4px;width:35px;height:35px;color:#fff;font-size:12px;font-weight:700;text-align:center;line-height:35px;background-color:#f44336;border-radius:50%;transition:all .3s cubic-bezier(.18,.89,.35,1.15)}#button-1.checked[_ngcontent-%COMP%]   .knobs[_ngcontent-%COMP%]:before{content:"" var(--open-text);left:51px;background-color:#07bd6d}#button-1.checked[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{background-color:#d0ffe8}#button-1[_ngcontent-%COMP%]   .knobs[_ngcontent-%COMP%], #button-1[_ngcontent-%COMP%]   .knobs[_ngcontent-%COMP%]:before, #button-1[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{transition:all .3s ease}']}),e})(),data:["IntegrationSetting","Integrationlist"]},{path:"Integrationlist",component:p,data:["IntegrationSetting","Integrationlist"]},{path:"IntegrationProducts",component:b,data:["IntegrationSetting","Integrationlist","IntegrationProducts"]},{path:"IntegrationPayments",component:(()=>{class e extends a.i{constructor(e,t,n,r,i,a,o){super(),this.IntegrationSettingSer=e,this.router=t,this.route=n,this.toastr=r,this.toastrMessage=i,this.languageSerService=a,this.translate=o,this.data={},this.flds={text:"Name",value:"OrderPayTypeDocumentId"},this.yemekOrderPayTypes=[],this.orderPayTypes=[],this.IntegrationSystemsName="",this.initializeobjects()}initializeobjects(){this.responseobj=new a.d,this.service=this.IntegrationSettingSer,this.request=this.router.getCurrentNavigation().extras,this.languageSerService.currentLang.subscribe(e=>this.language=e),this.translate.use(this.language)}ngOnInit(){null!=this.request.DocumentId&&""!=this.request.DocumentId?this.IntegrationSettingSer.GetIntegrationSettingPayments(this.request.DocumentId).subscribe(e=>{this.IntegrationSystemsName=e.IntegrationSystemsName,this.orderPayTypes=this.distinct(e.OrderPayTypes,"Name"),this.yemekOrderPayTypes=e.YemekOrderPayTypes}):(this.router.navigate(["/IntegrationSetting/Integrationlist"]),this.toastr.error("Should Choose aPricing Class First","Pricing Class"))}Save(){this.IntegrationSettingSer.updateIntegrationPaymnts({DocumentId:this.request.DocumentId,IntegrationSettingPayments:this.yemekOrderPayTypes}).subscribe(e=>{1==e?(this.toastr.success(this.toastrMessage.GlobalMessages(e)),this.router.navigate(["/IntegrationSetting/Integrationlist"])):this.toastr.error(this.toastrMessage.GlobalMessages(e))})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.e),o["\u0275\u0275directiveInject"](a.f),o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](a.h),o["\u0275\u0275directiveInject"](a.c),o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](l.e))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-integration-setting-payments"]],features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:32,vars:13,consts:[[1,"col-md-12"],[1,"pb-1","d-flex","justify-content-start","align-items-center"],["type","submit","class","btn btn-outline-info btnNav",3,"click",4,"ngIf","ngIfElse"],[1,"ms-panel"],[1,"ms-panel-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"row","d-flex","pr-xs-0"],[1,"col-md-4","d-flex","justify-content-start","align-items-center","label1"],["for","IntegrationSystemsName_id"],[1,"col-md-8","paddingLeftz"],[1,"input-group","editInputGroup"],[1,"input-group-addon"],["aria-hidden","true",1,"fas","fa-user"],[1,"input-group"],["type","text","placeholder","IntegrationSystemsName","name","Name","id","IntegrationSystemsName_id","readonly","",1,"form-control","borderRadius",3,"ngModel","ngModelChange"],[1,"table","table-bordered","text-center","BottomTableReturnOrder","border-radius-5"],["scope","col",1,"d-flex","justify-content-center"],["scope","col"],["class","p-1","data-dismiss","modal",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-info","btnNav",3,"click"],[1,"far","fa-save","pr-1"],["data-dismiss","modal",1,"p-1"],[1,"d-flex","justify-content-center"],[1,"form-control","borderRadius",3,"name","id","ngModel","allowFiltering","fields","autofill","dataSource","ngModelChange"]],template:function(e,t){1&e&&(o["\u0275\u0275element"](0,"app-breadcrumbs"),o["\u0275\u0275elementStart"](1,"div",0),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275template"](3,K,4,3,"button",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",0),o["\u0275\u0275elementStart"](5,"div",3),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"div",5),o["\u0275\u0275elementStart"](8,"div",6),o["\u0275\u0275elementStart"](9,"div",7),o["\u0275\u0275elementStart"](10,"div",8),o["\u0275\u0275elementStart"](11,"label",9),o["\u0275\u0275text"](12),o["\u0275\u0275pipe"](13,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div",10),o["\u0275\u0275elementStart"](15,"div",11),o["\u0275\u0275elementStart"](16,"div",12),o["\u0275\u0275element"](17,"i",13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"div",14),o["\u0275\u0275elementStart"](19,"input",15),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.IntegrationSystemsName=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"div",0),o["\u0275\u0275elementStart"](21,"table",16),o["\u0275\u0275elementStart"](22,"thead"),o["\u0275\u0275elementStart"](23,"tr"),o["\u0275\u0275elementStart"](24,"th",17),o["\u0275\u0275text"](25),o["\u0275\u0275pipe"](26,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](27,"th",18),o["\u0275\u0275text"](28),o["\u0275\u0275pipe"](29,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](30,"tbody"),o["\u0275\u0275template"](31,$,5,8,"tr",19),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",t.request.showEdit)("ngIfElse",!1),o["\u0275\u0275advance"](9),o["\u0275\u0275textInterpolate1"]("",o["\u0275\u0275pipeBind1"](13,7,"Shared.Name")," "),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.IntegrationSystemsName),o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](26,9,"permission.YemekPayTypes")," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](29,11,"permission.PayTypes")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngForOf",t.yemekOrderPayTypes))},directives:[d.a,r.NgIf,g.c,g.r,g.u,r.NgForOf,h.a],pipes:[l.d],styles:[""]}),e})(),data:["IntegrationSetting","Integrationlist","IntegrationPayments"]}];let X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[i.f.forChild(J)],i.f]}),e})();var W=n("PCNd");let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[r.CommonModule,X,W.a]]}),e})()},lmDL:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("fXoL"),i=n("R9YG"),a=n("tyNb"),o=n("s1I5"),s=n("ofXK"),l=n("sYmb");function d(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"a",11),r["\u0275\u0275element"](1,"i",12),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("href",e.helpPath,r["\u0275\u0275sanitizeUrl"])}}const c=function(e){return{active:e}};function m(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"li",8),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).index;return r["\u0275\u0275nextContext"]().clickedRoute(t)}),r["\u0275\u0275elementStart"](1,"a",9),r["\u0275\u0275element"](2,"i",6),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,d,2,1,"a",10),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](5,c,n.currentroutes==e)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](4,3,n.getTranslationName("Shared",e))," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",n.currentroutes==e)}}const u=function(){return["/home"]};let p=(()=>{class e{constructor(e,t,n,r){this.languageSerService=e,this.router=t,this.Router=n,this.configService=r}ngDoCheck(){this.Router.data.subscribe(e=>{this.languageSerService.setcurrentsetRoute(e)}),this.languageSerService.setRoute.subscribe(e=>this.Allroutes=e),this.AllRetrunRoutes=Object.values(this.Allroutes),this.currentroutes=this.router.url.split("/").slice(1),1==this.currentroutes.length?this.currentroutes=this.router.url.split("/").slice(1):2==this.currentroutes.length?this.currentroutes=this.router.url.split("/").slice(2):3==this.currentroutes.length&&(this.currentroutes=this.router.url.split("/").slice(3))}ngOnInit(){}getTranslationName(e,t){return e+"."+(t?t.toLowerCase():"")}clickedRoute(e){this.selectedIndex=e,this.AllRetrunRoutes=Object.values(this.Allroutes),0==e?this.router.navigate(["/"+this.AllRetrunRoutes[0]]):1==e||3==e?this.router.navigate(["/"+this.AllRetrunRoutes[0]+"/"+this.AllRetrunRoutes[1]]):2==e&&this.router.navigate(["/"+this.AllRetrunRoutes[0]+"/"+this.AllRetrunRoutes[2]])}get helpPath(){return`${this.trimTrailingSlash(this.configService.helpPath)}/${this.currentroutes} `}trimTrailingSlash(e){return e?e.replace(/\/+$/,""):""}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.a),r["\u0275\u0275directiveInject"](a.b),r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-breadcrumbs"]],inputs:{Allroutes:"Allroutes"},decls:11,vars:6,consts:[[1,"col-md-12"],[1,"row","mx-1","shadow-sm","mb-2","bg-white","rounded","align-items-center"],[1,"col-md-12","col-sm-12"],[1,"breadcrumb","bg-white","my-0","breadcrumb-arrow-sep"],[1,"breadcrumb-item"],["routerLinkActive","router-link-active",1,"styleAll",3,"routerLink"],[1,"material-icons",2,"font-size","1.2rem"],["class","breadcrumb-item",3,"click",4,"ngFor","ngForOf"],[1,"breadcrumb-item",3,"click"],[1,"styleAll",3,"ngClass"],["target","_blank","class","mr-2 cursorPointer active",3,"href",4,"ngIf"],["target","_blank",1,"mr-2","cursorPointer","active",3,"href"],["aria-hidden","true",1,"fa","fa-question-circle","pl-1"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"ol",3),r["\u0275\u0275elementStart"](4,"li",4),r["\u0275\u0275elementStart"](5,"a",5),r["\u0275\u0275elementStart"](6,"i",6),r["\u0275\u0275text"](7,"home"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8),r["\u0275\u0275pipe"](9,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](10,m,6,7,"li",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction0"](5,u)),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](9,3,"ReturnOrder.Home")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.AllRetrunRoutes))},directives:[a.e,a.d,s.NgForOf,s.NgClass,s.NgIf],pipes:[l.d],styles:[""]}),e})()}}]);